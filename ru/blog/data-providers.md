---
title: "Data Providers"
date: 2026-02-01
description: "–ì–∏–±–∫–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö –≤ Testo: –æ—Ç –ø—Ä–æ—Å—Ç–æ–≥–æ DataSet –¥–æ –º–æ—â–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π —Å DataZip, DataCross –∏ DataUnion."
image: /blog/data-providers/preview.jpg
author: –ê–ª–µ–∫—Å–µ–π –ì–∞–≥–∞—Ä–∏–Ω
outline: deep
---

# Data Providers

–í Unit-—Ç–µ—Å—Ç–∞—Ö –º—ã –ø—Ä–∏–≤—ã–∫–ª–∏ –∫ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º –¥–∞–Ω–Ω—ã—Ö, –∑–∞–¥–∞—á–∞ –∫–æ—Ç–æ—Ä—ã—Ö ‚Äî –≤—ã–¥–∞–≤–∞—Ç—å –Ω–∞–±–æ—Ä—ã –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ (–¥–∞—Ç–∞—Å–µ—Ç—ã) –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏.

## –ù–∞ –ø—Ä–∏–º–µ—Ä–µ PHPUnit

–í PHPUnit –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö –æ–±—ä—è–≤–ª—è—é—Ç—Å—è –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –∞—Ç—Ä–∏–±—É—Ç `#[DataProvider]` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏–º—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–µ—Ç–æ–¥–∞ —Ç–µ–∫—É—â–µ–≥–æ –∫–ª–∞—Å—Å–∞, –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –∏ –±—É–¥—É—Ç –∏–∑–≤–ª–µ—á–µ–Ω—ã –¥–∞—Ç–∞—Å–µ—Ç—ã.

```php
#[DataProvider('dataSum')]
public function testSum(int $a, int $b, int $c): void
{
    $result = Helper::sum($a, $b);

    self::assertSame($c, $result);
}

public static function dataSum(): iterable
{
    yield [1, 1, 2];
    # –¥–∞—Ç–∞—Å–µ—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–º–∏:
    yield 'second dataset' => [1, 2, 3];
}
```

–§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –º–µ—Ç–æ–¥–µ –¥—Ä—É–≥–æ–≥–æ –∫–ª–∞—Å—Å–∞, —Ç–æ–≥–¥–∞ –≤ PHPUnit –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥—Ä—É–≥–æ–π –∞—Ç—Ä–∏–±—É—Ç: `#[DataProviderExternal(External::class, 'dataMethod')]`.

–ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑–±—ã—Ç–æ—á–µ–Ω, –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞—Ç–∞—Å–µ—Ç—ã –ø–æ—à—Ç—É—á–Ω–æ —á–µ—Ä–µ–∑ –∞—Ç—Ä–∏–±—É—Ç `#[TestWith]`:

```php
#[TestWith([1, 1, 2])]
#[TestWith([1, 2, 3], 'second dataset')]
public function testSum(int $a, int $b, int $c): void { ... }
```

–ë–æ–ª—å—à–µ –ø—Ä–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö –≤ PHPUnit —Å–∫–∞–∑–∞—Ç—å –Ω–µ—á–µ–≥–æ ¬Ø\\\_(„ÉÑ)\_/¬Ø

## –ß—Ç–æ –≤ Testo?

–ß—Ç–æ-–∂, —ç—Ç–æ–π —Å—Ç–∞—Ç—å–∏ –Ω–µ –±—ã–ª–æ –±—ã, –µ—Å–ª–∏ –±—ã —Å–∫–∞–∑–∞—Ç—å –±—ã–ª–æ –Ω–µ—á–µ–≥–æ.

**–í–æ-–ø–µ—Ä–≤—ã—Ö**, –º–Ω–µ –≤ PHPUnit –Ω–µ –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å –Ω–∞–∑–≤–∞–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–∞ `#[TestWith]`. –û–Ω–æ –Ω–µ–ø–ª–æ—Ö–æ –ø–µ—Ä–µ–¥–∞—ë—Ç –Ω–∞–º–µ—Ä–µ–Ω–∏–µ (*–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å "—ç—Ç–∏–º"*), –Ω–æ —á—Ç–æ –Ω–∞—Å—á—ë—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏? –Ø –±—ã —Ç–∞–∫ –∏ –Ω–µ —É–∑–Ω–∞–ª –æ–± —ç—Ç–æ–º –∞—Ç—Ä–∏–±—É—Ç–µ, –µ—Å–ª–∏ –±—ã –Ω–µ —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å (–∞ –≤—ã –∑–Ω–∞–µ—Ç–µ –æ –Ω—ë–º?).

::: tip ‚òùÔ∏è –ë—ã–ª–æ –±—ã –ª—É—á—à–µ, –µ—Å–ª–∏ –±—ã —Ç–∞–∫–æ–π –∞—Ç—Ä–∏–±—É—Ç –≤—ã–ª–µ–∑–∞–ª –≤ –ø–æ–¥—Å–∫–∞–∑–∫–∞—Ö IDE –ø—Ä–∏ –≤–≤–æ–¥–µ —Å–ª–æ–≤–∞ "Data": —Ä—è–¥–æ–º —Å `DataProvider`.
:::

–ü–æ—ç—Ç–æ–º—É –≤ Testo —ç—Ç–æ—Ç –∞—Ç—Ä–∏–±—É—Ç –Ω–∞–∑–≤–∞–Ω: `#[DataSet]`.

**–í–æ-–≤—Ç–æ—Ä—ã—Ö**, –≤ Testo –Ω–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∞—Ç—Ä–∏–±—É—Ç–∞ `#[DataProviderExternal]`: –Ω–∞–¥–æ–±–Ω–æ—Å—Ç—å –≤ –Ω—ë–º –ø—Ä–æ—Å—Ç–æ –∏—Å—á–µ–∑–∞–µ—Ç, –ø–æ—Å–∫–æ–ª—å–∫—É –≤ `#[DataProvider]` –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞—Ç—å –ª—é–±–æ–π `callable`.

**–ò –≤-—Ç—Ä–µ—Ç—å–∏—Ö**, –¥–∞—Ç–∞—Å–µ—Ç—ã –≤ Testo –º–æ–≥—É—Ç –º–µ—Ä–∂–∏—Ç—å—Å—è –Ω–µ —Ç–æ–ª—å–∫–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ, –Ω–æ –∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ, –∏ –ø–æ-–¥–∏–∞–≥–æ–Ω–∞–ª–∏.

–û–±–æ –≤—Å—ë–º –ø–æ –ø–æ—Ä—è–¥–∫—É.

### DataSet

–¢—É–ø–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç –¥–ª—è —Ç–µ—Å—Ç–∞:

```php
#[DataSet([1, 1, 2])]
#[DataSet([1, 2, 3], 'second dataset')]
public function testSum(int $a, int $b, int $c): void { ... }
```

–í—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç ‚Äî –º–µ—Ç–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –æ—Ç—á—ë—Ç–∞—Ö. –ü–æ–ª–µ–∑–Ω–æ, –∫–æ–≥–¥–∞ —Ç–µ—Å—Ç –ø–∞–¥–∞–µ—Ç –∏ —Ö–æ—á–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ–Ω—è—Ç—å –∫–∞–∫–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π —Å–ª–æ–º–∞–ª—Å—è.

### DataProvider

–¢–∞–∫–∂–µ –∫–∞–∫ –∏ PHPUnit, Testo –æ–∂–∏–¥–∞–µ—Ç, —á—Ç–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –¥–∞—Ç–∞—Å–µ—Ç–æ–≤: `iterable<array>`. –ê—Ç—Ä–∏–±—É—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `non-empty-string|callable` –≤ –∫–∞—á–µ—Å—Ç–≤–µ —É–∫–∞–∑–∞—Ç–µ–ª—è –Ω–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä –¥–∞–Ω–Ω—ã—Ö.

1. –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω–∞ —Å—Ç—Ä–æ–∫–∞, —Ç–æ —Å–Ω–∞—á–∞–ª–∞ –∏—â–µ—Ç—Å—è –º–µ—Ç–æ–¥ –≤ —ç—Ç–æ–º –∂–µ –∫–ª–∞—Å—Å–µ. –ï—Å–ª–∏ –º–µ—Ç–æ–¥–∞ –Ω–µ—Ç, —Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞ `callable` (—ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ñ—É–Ω–∫—Ü–∏—è –∏–ª–∏ `callable-string` –≤–∏–¥–∞ `Class::method`).

    ```php
    // –ú–µ—Ç–æ–¥ —Ç–µ–∫—É—â–µ–≥–æ –∫–ª–∞—Å—Å–∞
    #[DataProvider('dataSum')]

    // callable-string
    #[DataProvider('AnyClass::method')]
    ```

2. –ï—â—ë –æ–¥–∏–Ω –ø—Ä–∏–º–µ—Ä `callable` ‚Äî —ç—Ç–æ `callable-array`:

    ```php
    // –ú–µ—Ç–æ–¥ –¥—Ä—É–≥–æ–≥–æ –∫–ª–∞—Å—Å–∞
    #[DataProvider([AnyClass::class, 'method'])]
    ```

3. –í—Å–ø–æ–º–Ω–∏–º –∏ –ø—Ä–æ Invokeable-–∫–ª–∞—Å—Å—ã, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å –º–µ—Ç–æ–¥ `__invoke()`:

    ```php
    // –ö–ª–∞—Å—Å —Å –º–µ—Ç–æ–¥–æ–º __invoke()
    #[DataProvider(new FileReader('sum-args.txt'))]
    ```

    –° –∑–∞–ø—Ä–æ—Å–æ–º –Ω–∞ —Ç–∞–∫—É—é —Ñ–∏—á—É –æ–±—Ä–∞—Ç–∏–ª—Å—è –í–∞–ª–µ–Ω—Ç–∏–Ω –£–¥–∞–ª—å—Ü–æ–≤, –µ—â—ë –Ω–µ –∑–Ω–∞—è, —á—Ç–æ –æ–Ω–∞ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞.

    ![Telegram](/blog/data-providers/telegram.png)
    _–°–ø–∞—Å–∏–±–æ –∑–∞ —é–∑–∫–µ–π—Å._

4. –ò —Å–∞–º—ã–π —Å–æ–∫: –ø—Ä–æ—Å—Ç–æ –∑–∞–º—ã–∫–∞–Ω–∏–µ –≤ –∞—Ç—Ä–∏–±—É—Ç–µ. –£ –º–µ–Ω—è –ø–æ–∫–∞ –Ω–µ—Ç –∏–¥–µ–π, –∑–∞—á–µ–º –∫–æ–º—É-—Ç–æ —ç—Ç–æ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è, –Ω–æ –µ—Å–ª–∏ PHP 8.5 –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å, —Ç–æ –ø–æ—á–µ–º—É –±—ã –∏ –¥–∞?

    ```php
    // –ü—Ä–æ—Å—Ç–æ –∑–∞–º—ã–∫–∞–Ω–∏–µ (PHP 8.5)
    #[DataProvider(static function(): iterable {
        yield from Source::fromFile();
        yield from Source::fromCache(\getenv('CACHE_KEY'));
    })]
    // –ò–ª–∏
    #[DataProvider(SomeClass::method(...))]
    ```

### –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

–í—ã, –Ω–∞–≤–µ—Ä–Ω–æ–µ, –¥–æ–≥–∞–¥—ã–≤–∞–µ—Ç–µ—Å—å, —á—Ç–æ –µ—Å–ª–∏ Data-–∞—Ç—Ä–∏–±—É—Ç—ã (`#[DataSet]` –∏ `#[DataProvider]`) –ø–æ–≤–µ—Å–∏—Ç—å –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑, —Ç–æ —ç—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ —É–≤–µ–ª–∏—á–µ–Ω–∏—é –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –¥–∞—Ç–∞—Å–µ—Ç–æ–≤ –ø–æ–¥–æ–±–Ω–æ UNION –∑–∞–ø—Ä–æ—Å—É –≤ SQL.

```php
#[DataSet([1, 1, 2])]
#[DataProvider('dataSum')]
#[DataProvider(SomeClass::method(...))]
public function testSum(int $a, int $b, int $c): void { ... }
```

–¢–µ—Å—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ: —Å–Ω–∞—á–∞–ª–∞ `[1, 1, 2]` –∏–∑ `DataSet`, –∑–∞—Ç–µ–º –≤—Å–µ –∏–∑ `dataSum`, –∑–∞—Ç–µ–º –≤—Å–µ –∏–∑ `SomeClass::method()`.

::: info ü§î –ù–æ —á—Ç–æ, –µ—Å–ª–∏ —Ö–æ—á–µ—Ç—Å—è —Å–æ–µ–¥–∏–Ω–∏—Ç—å –¥–∞—Ç–∞—Å–µ—Ç—ã –∫–∞–∫-—Ç–æ –ø–æ–∏–Ω—Ç–µ—Ä–µ—Å–Ω–µ–µ?
:::

### DataZip

![DataZip](/blog/data-providers/zip.png)

–°–æ–µ–¥–∏–Ω—è–µ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –ø–æ–ø–∞—Ä–Ω–æ: –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å –ø–µ—Ä–≤—ã–º, –≤—Ç–æ—Ä–æ–π —Å–æ –≤—Ç–æ—Ä—ã–º.

–£–¥–æ–±–Ω–æ, –∫–æ–≥–¥–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –¥—Ä—É–≥–∏—Ö —Ç–µ—Å—Ç–∞—Ö:

```php
// –ü—Ä–æ–≤–∞–π–¥–µ—Ä users —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ testLogin, testLogout, testProfile...
#[DataProvider('users')]
public function testLogin(string $user): void { ... }

// –ê —Ç—É—Ç –º—ã —Ö–æ—Ç–∏–º –¥–æ–±–∞–≤–∏—Ç—å –æ–∂–∏–¥–∞–µ–º—ã–µ –ø—Ä–∞–≤–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —é–∑–µ—Ä–∞
#[DataZip(
    new DataProvider('users'),       // admin, guest, bot
    new DataProvider('canDelete'),   // true, false, false
)]
public function testDeletePermission(string $user, bool $expected): void { ... }
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: `admin` ‚Üí `true`, `guest` ‚Üí `false`, `bot` ‚Üí `false`.

### DataCross

![DataCross](/blog/data-providers/cross.png)

–î–µ–∫–∞—Ä—Ç–æ–≤–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ ‚Äî –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏. –ü–æ–ª–µ–∑–Ω–æ, –∫–æ–≥–¥–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞ –∏ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∂–¥—É—é –ø–∞—Ä—É.

```php
#[DataCross(
    new DataProvider('browsers'),    // chrome, firefox, safari
    new DataProvider('screenSizes'), // desktop, tablet, mobile
)]
public function testResponsiveLayout(string $browser, int $width, int $height): void { ... }
```

3 –±—Ä–∞—É–∑–µ—Ä–∞ √ó 3 —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è = 9 —Ç–µ—Å—Ç–æ–≤. –¢—Ä–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –ø–æ 5 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ ‚Äî —É–∂–µ 125 —Ç–µ—Å—Ç–æ–≤. `DataCross` —Ä–∞—Å—Ç—ë—Ç –±—ã—Å—Ç—Ä–æ, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ.

### DataUnion

![DataUnion](/blog/data-providers/union.png)

–ê—Ç—Ä–∏–±—É—Ç `#[DataUnion]` –û–±—ä–µ–¥–∏–Ω—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –≤ –æ–¥–∏–Ω ‚Äî –ø—Ä–æ—Å—Ç–æ —Å–∫–ª–µ–∏–≤–∞–µ—Ç –¥–∞—Ç–∞—Å–µ—Ç—ã –≤ –æ–±—â—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é –Ω–∞—Ä–∞–≤–Ω–µ —Å —Ç–µ–º, –∫–∞–∫ –µ—Å–ª–∏ –±—ã –Ω–µ—Å–∫–æ–ª—å–∫–æ `#[DataProvider]` –±—ã–ª–∏ –ø–æ–≤–µ—à–µ–Ω—ã –Ω–∞ —Ç–µ—Å—Ç.

::: info ü´§ –°—Ç–æ–ø, –∞ –∑–∞—á–µ–º –æ—Ç–¥–µ–ª—å–Ω—ã–π –∞—Ç—Ä–∏–±—É—Ç?
::: 

`DataUnion` –Ω—É–∂–µ–Ω **–≤–Ω—É—Ç—Ä–∏** `DataCross` –∏–ª–∏ `DataZip`:

```php
#[DataCross(
    new DataUnion(
        new DataProvider('legacyFormats'),
        new DataProvider('modernFormats'),
    ),
    new DataProvider('compressionLevels'),
)]
public function testExport(string $format, int $compression): void { ... }
```

–í—Å–µ —Ñ–æ—Ä–º–∞—Ç—ã (legacy + modern) —Å–∫—Ä–µ—â–∏–≤–∞—é—Ç—Å—è —Å –∫–∞–∂–¥—ã–º —É—Ä–æ–≤–Ω–µ–º —Å–∂–∞—Ç–∏—è.

### –í–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å

–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã –º–æ–∂–Ω–æ –≤–∫–ª–∞–¥—ã–≤–∞—Ç—å –Ω–∞ –ª—é–±—É—é –≥–ª—É–±–∏–Ω—É:

```php
#[DataCross(
    new DataZip(
        new DataCross(
            new DataProvider('users'),      // alice, bob
            new DataProvider('roles'),      // admin, viewer
        ),
        new DataProvider('canEdit'),        // true, false, true, false
    ),
    new DataUnion(
        new DataSet([new Document('readme.md')], 'readme'),
        new DataProvider('documents'),      // doc1, doc2
    ),
)]
public function testDocumentAccess(
    string $user,
    string $role,
    bool $canEdit,
    Document $doc
): void { ... }
```

–ó–¥–µ—Å—å `users √ó roles` –¥–∞—ë—Ç 4 –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –∑–∏–ø—É—é—Ç—Å—è —Å 4 –æ–∂–∏–¥–∞–µ–º—ã–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏, –∏ –≤—Å—ë —ç—Ç–æ —Å–∫—Ä–µ—â–∏–≤–∞–µ—Ç—Å—è —Å 3 –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ (1 –∏–∑ DataSet + 2 –∏–∑ DataProvider) = 12 —Ç–µ—Å—Ç–æ–≤.

## –ê –≤ PHPUnit —Ç–∞–∫ –º–æ–∂–Ω–æ?

–ò–∑ –∫–æ—Ä–æ–±–∫–∏ ‚Äî –Ω–µ—Ç. –ù–æ –µ—Å—Ç—å –ø–∞–∫–µ—Ç [t-regx/phpunit-data-provider](https://github.com/t-regx/phpunit-data-provider), –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–ª—è–µ—Ç `cross()`, `zip()`, `join()` –∏ –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã.

–í–æ—Ç –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –∫–æ–¥:

```php
#[DataProvider('usersWithPermissions')]
public function testDeletePermission(string $user, bool $expected): void { ... }

public function usersWithPermissions(): DataProvider
{
    return DataProvider::zip(
        DataProvider::list('admin', 'guest', 'bot'),
        DataProvider::list(true, false, false)
    );
}
```

–†–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –º–µ—Ç–æ–¥-–æ–±—ë—Ä—Ç–∫—É. –í Testo –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ ‚Äî –ø—Ä—è–º–æ –≤ –∞—Ç—Ä–∏–±—É—Ç–∞—Ö –Ω–∞–¥ —Ç–µ—Å—Ç–æ–º.

::: tip –ü–∏—à–∏—Ç–µ –º–µ–Ω—å—à–µ, —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –±–æ–ª—å—à–µ
:::

